import{e as Rt,s as Lt}from"../chunks/horizonQueries.4e1e7f67.js";import{s as fe,r as pe,u as be,h as S,d as p,j as b,i as D,v as g,x as T,f as w,g as E,P as le,l as M,m as U,n as ie,a as B,c as F,O as Y,U as ye,R as X,y as $,J as Se,S as ve,e as K,p as Z,X as x,M as ke,z as Pt,K as Bt,T as Ft,Y as Le,w as Be}from"../chunks/scheduler.e2128b0a.js";import{h as _e,u as we}from"../chunks/await_block.112a22fd.js";import{e as z}from"../chunks/each.972e7fc1.js";import{S as ce,i as ue,a as A,g as G,t as L,c as Q,h as ee,b as oe,d as re,m as ae,e as se}from"../chunks/index.67dfe82c.js";import{p as Vt}from"../chunks/stores.fa028d82.js";import{g as Oe,w as ge,t as Pe,b as Kt,i as Ht,f as Ae,c as Mt,d as Ut,e as Fe,h as Ve}from"../chunks/sep6.78e9d57b.js";import{k as Ce}from"../chunks/kycStore.f943d3b8.js";import{C as Ie}from"../chunks/ConfirmationModal.56c6a33a.js";import{i as Wt}from"../chunks/navigation.00afe88d.js";import{w as Ke}from"../chunks/walletStore.df8a4074.js";import{e as Ee,l as Yt}from"../chunks/index.027ae11e.js";import{b as He}from"../chunks/transactions.8078ad3c.js";function zt(o){let e,n,l,t,r;return{c(){e=pe("svg"),n=pe("path"),l=pe("polyline"),t=pe("line"),this.h()},l(i){e=be(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var s=S(e);n=be(s,"path",{d:!0}),S(n).forEach(p),l=be(s,"polyline",{points:!0}),S(l).forEach(p),t=be(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),s.forEach(p),this.h()},h(){b(n,"d","M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"),b(l,"points","10 17 15 12 10 7"),b(t,"x1","15"),b(t,"y1","12"),b(t,"x2","3"),b(t,"y2","12"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"width",o[0]),b(e,"height",o[0]),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke","currentColor"),b(e,"stroke-width",o[1]),b(e,"stroke-linecap","round"),b(e,"stroke-linejoin","round"),b(e,"class",r="feather feather-log-in "+o[2])},m(i,s){D(i,e,s),g(e,n),g(e,l),g(e,t)},p(i,[s]){s&1&&b(e,"width",i[0]),s&1&&b(e,"height",i[0]),s&2&&b(e,"stroke-width",i[1]),s&4&&r!==(r="feather feather-log-in "+i[2])&&b(e,"class",r)},i:T,o:T,d(i){i&&p(e)}}}function qt(o,e,n){let{size:l="24"}=e,{strokeWidth:t=2}=e,{class:r=""}=e;return l!=="100%"&&(l=l.slice(-1)==="x"?l.slice(0,l.length-1)+"em":parseInt(l)+"px"),o.$$set=i=>{"size"in i&&n(0,l=i.size),"strokeWidth"in i&&n(1,t=i.strokeWidth),"class"in i&&n(2,r=i.class)},[l,t,r]}class At extends ce{constructor(e){super(),ue(this,e,qt,zt,fe,{size:0,strokeWidth:1,class:2})}}function Jt(o){let e,n,l,t,r;return{c(){e=pe("svg"),n=pe("path"),l=pe("polyline"),t=pe("line"),this.h()},l(i){e=be(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var s=S(e);n=be(s,"path",{d:!0}),S(n).forEach(p),l=be(s,"polyline",{points:!0}),S(l).forEach(p),t=be(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),s.forEach(p),this.h()},h(){b(n,"d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"),b(l,"points","16 17 21 12 16 7"),b(t,"x1","21"),b(t,"y1","12"),b(t,"x2","9"),b(t,"y2","12"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"width",o[0]),b(e,"height",o[0]),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke","currentColor"),b(e,"stroke-width",o[1]),b(e,"stroke-linecap","round"),b(e,"stroke-linejoin","round"),b(e,"class",r="feather feather-log-out "+o[2])},m(i,s){D(i,e,s),g(e,n),g(e,l),g(e,t)},p(i,[s]){s&1&&b(e,"width",i[0]),s&1&&b(e,"height",i[0]),s&2&&b(e,"stroke-width",i[1]),s&4&&r!==(r="feather feather-log-out "+i[2])&&b(e,"class",r)},i:T,o:T,d(i){i&&p(e)}}}function Xt(o,e,n){let{size:l="24"}=e,{strokeWidth:t=2}=e,{class:r=""}=e;return l!=="100%"&&(l=l.slice(-1)==="x"?l.slice(0,l.length-1)+"em":parseInt(l)+"px"),o.$$set=i=>{"size"in i&&n(0,l=i.size),"strokeWidth"in i&&n(1,t=i.strokeWidth),"class"in i&&n(2,r=i.class)},[l,t,r]}class Ot extends ce{constructor(e){super(),ue(this,e,Xt,Jt,fe,{size:0,strokeWidth:1,class:2})}}async function Gt({parent:o}){const{balances:e}=await o();return{homeDomainBalances:await Rt(e)}}const Dn=Object.freeze(Object.defineProperty({__proto__:null,load:Gt},Symbol.toStringTag,{value:"Module"}));function Me(o,e,n){const l=o.slice();l[5]=e[n],l[8]=n;const t=`step ${l[8]===0?"step-primary":""}`;return l[6]=t,l}function Ue(o){let e,n=o[5]+"",l;return{c(){e=w("li"),l=M(n),this.h()},l(t){e=E(t,"LI",{class:!0});var r=S(e);l=U(r,n),r.forEach(p),this.h()},h(){b(e,"class",o[6])},m(t,r){D(t,e,r),g(e,l)},p(t,r){r&1&&n!==(n=t[5]+"")&&ie(l,n)},d(t){t&&p(e)}}}function Qt(o){let e,n,l=z(o[0]),t=[];for(let r=0;r<l.length;r+=1)t[r]=Ue(Me(o,l,r));return{c(){e=w("div"),n=w("ul");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=E(r,"DIV",{class:!0});var i=S(e);n=E(i,"UL",{class:!0});var s=S(n);for(let a=0;a<t.length;a+=1)t[a].l(s);s.forEach(p),i.forEach(p),this.h()},h(){b(n,"class","steps w-full"),b(e,"class","not-prose")},m(r,i){D(r,e,i),g(e,n);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(n,null)},p(r,[i]){if(i&1){l=z(r[0]);let s;for(s=0;s<l.length;s+=1){const a=Me(r,l,s);t[s]?t[s].p(a,i):(t[s]=Ue(a),t[s].c(),t[s].m(n,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},i:T,o:T,d(r){r&&p(e),le(t,r)}}}function Zt(o,e,n){let{steps:l=[]}=e,{currentActive:t=1}=e,r;const i=a=>{r=document.querySelectorAll(".step"),a==1?(n(1,t++,t),t>l.length&&n(1,t=l.length)):(n(1,t--,t),t<1&&n(1,t=1)),s()},s=()=>{r.forEach((a,f)=>{f<t?a.classList.add("step-primary"):a.classList.remove("step-primary")})};return o.$$set=a=>{"steps"in a&&n(0,l=a.steps),"currentActive"in a&&n(1,t=a.currentActive)},[l,t,i]}class $t extends ce{constructor(e){super(),ue(this,e,Zt,Qt,fe,{steps:0,currentActive:1,handleStep:2})}get handleStep(){return this.$$.ctx[2]}}function We(o,e,n){const l=o.slice();return l[5]=e[n],l}function Ye(o){let e,n="Optional";return{c(){e=w("span"),e.textContent=n,this.h()},l(l){e=E(l,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-b1j7h"&&(e.textContent=n),this.h()},h(){b(e,"class","label-text-alt")},m(l,t){D(l,e,t)},d(l){l&&p(e)}}}function xt(o){let e,n,l,t,r;return{c(){e=w("input"),this.h()},l(i){e=E(i,"INPUT",{type:!0,class:!0,name:!0,id:!0}),this.h()},h(){b(e,"type","text"),b(e,"class","input-bordered input"),b(e,"name",n=`transfer-field-${o[1]}`),b(e,"id",l=`transfer-field-${o[1]}`)},m(i,s){D(i,e,s),X(e,o[0]),t||(r=$(e,"input",o[4]),t=!0)},p(i,s){s&2&&n!==(n=`transfer-field-${i[1]}`)&&b(e,"name",n),s&2&&l!==(l=`transfer-field-${i[1]}`)&&b(e,"id",l),s&5&&e.value!==i[0]&&X(e,i[0])},d(i){i&&p(e),t=!1,r()}}}function el(o){let e,n,l="Select one",t,r,i,s,a=z(o[2].choices),f=[];for(let m=0;m<a.length;m+=1)f[m]=ze(We(o,a,m));return{c(){e=w("select"),n=w("option"),n.textContent=l;for(let m=0;m<f.length;m+=1)f[m].c();this.h()},l(m){e=E(m,"SELECT",{class:!0,name:!0,id:!0});var h=S(e);n=E(h,"OPTION",{"data-svelte-h":!0}),Y(n)!=="svelte-ekf9xb"&&(n.textContent=l);for(let u=0;u<f.length;u+=1)f[u].l(h);h.forEach(p),this.h()},h(){n.__value="",X(n,n.__value),n.disabled=!0,n.selected=!0,b(e,"class","select-bordered select"),b(e,"name",t=`transfer-field-${o[1]}`),b(e,"id",r=`transfer-field-${o[1]}`),o[0]===void 0&&Se(()=>o[3].call(e))},m(m,h){D(m,e,h),g(e,n);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(e,null);ve(e,o[0],!0),i||(s=$(e,"change",o[3]),i=!0)},p(m,h){if(h&4){a=z(m[2].choices);let u;for(u=0;u<a.length;u+=1){const _=We(m,a,u);f[u]?f[u].p(_,h):(f[u]=ze(_),f[u].c(),f[u].m(e,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=a.length}h&2&&t!==(t=`transfer-field-${m[1]}`)&&b(e,"name",t),h&2&&r!==(r=`transfer-field-${m[1]}`)&&b(e,"id",r),h&5&&ve(e,m[0])},d(m){m&&p(e),le(f,m),i=!1,s()}}}function ze(o){let e,n=o[5]+"",l,t;return{c(){e=w("option"),l=M(n),this.h()},l(r){e=E(r,"OPTION",{});var i=S(e);l=U(i,n),i.forEach(p),this.h()},h(){e.__value=t=o[5],X(e,e.__value)},m(r,i){D(r,e,i),g(e,l)},p(r,i){i&4&&n!==(n=r[5]+"")&&ie(l,n),i&4&&t!==(t=r[5])&&(e.__value=t,X(e,e.__value))},d(r){r&&p(e)}}}function qe(o){let e,n,l=o[2].description+"",t,r;return{c(){e=w("label"),n=w("span"),t=M(l),this.h()},l(i){e=E(i,"LABEL",{class:!0,for:!0});var s=S(e);n=E(s,"SPAN",{class:!0});var a=S(n);t=U(a,l),a.forEach(p),s.forEach(p),this.h()},h(){b(n,"class","label-text-alt"),b(e,"class","label"),b(e,"for",r=`transfer-field-${o[1]}`)},m(i,s){D(i,e,s),g(e,n),g(n,t)},p(i,s){s&4&&l!==(l=i[2].description+"")&&ie(t,l),s&2&&r!==(r=`transfer-field-${i[1]}`)&&b(e,"for",r)},d(i){i&&p(e)}}}function tl(o){let e,n,l,t,r,i,s,a,f=o[2].optional&&Ye();function m(d,c){return"choices"in d[2]?el:xt}let h=m(o),u=h(o),_=o[2].description&&qe(o);return{c(){e=w("div"),n=w("label"),l=w("span"),t=M(o[1]),r=B(),f&&f.c(),s=B(),u.c(),a=B(),_&&_.c(),this.h()},l(d){e=E(d,"DIV",{class:!0});var c=S(e);n=E(c,"LABEL",{class:!0,for:!0});var k=S(n);l=E(k,"SPAN",{class:!0});var v=S(l);t=U(v,o[1]),v.forEach(p),r=F(k),f&&f.l(k),k.forEach(p),s=F(c),u.l(c),a=F(c),_&&_.l(c),c.forEach(p),this.h()},h(){b(l,"class","label-text"),b(n,"class","label"),b(n,"for",i=`transfer-field-${o[1]}`),b(e,"class","form-control my-1")},m(d,c){D(d,e,c),g(e,n),g(n,l),g(l,t),g(n,r),f&&f.m(n,null),g(e,s),u.m(e,null),g(e,a),_&&_.m(e,null)},p(d,[c]){c&2&&ie(t,d[1]),d[2].optional?f||(f=Ye(),f.c(),f.m(n,null)):f&&(f.d(1),f=null),c&2&&i!==(i=`transfer-field-${d[1]}`)&&b(n,"for",i),h===(h=m(d))&&u?u.p(d,c):(u.d(1),u=h(d),u&&(u.c(),u.m(e,a))),d[2].description?_?_.p(d,c):(_=qe(d),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i:T,o:T,d(d){d&&p(e),f&&f.d(),u.d(),_&&_.d()}}}function ll(o,e,n){let{field:l=""}=e,{fieldInfo:t={optional:!1,choices:[],description:""}}=e,{value:r=""}=e;function i(){r=ye(this),n(0,r),n(2,t)}function s(){r=this.value,n(0,r),n(2,t)}return o.$$set=a=>{"field"in a&&n(1,l=a.field),"fieldInfo"in a&&n(2,t=a.fieldInfo),"value"in a&&n(0,r=a.value)},[r,l,t,i,s]}class jt extends ce{constructor(e){super(),ue(this,e,ll,tl,fe,{field:1,fieldInfo:2,value:0})}}function Je(o,e,n){const l=o.slice();return l[9]=e[n][0],l[10]=e[n][1],l}function Xe(o,e,n){const l=o.slice();return l[13]=e[n][0],l[14]=e[n][1],l[17]=e,l[18]=n,l}function Ge(o,e,n){const l=o.slice();return l[19]=e[n],l}function Qe(o,e,n){const l=o.slice();return l[13]=e[n][0],l[14]=e[n][1],l[15]=e,l[16]=n,l}function Ze(o,e,n){const l=o.slice();return l[22]=e[n],l}function $e(o,e,n){const l=o.slice();return l[9]=e[n],l}function xe(o){let e,n=o[9]+"",l,t;return{c(){e=w("option"),l=M(n),this.h()},l(r){e=E(r,"OPTION",{});var i=S(e);l=U(i,n),i.forEach(p),this.h()},h(){e.__value=t=o[9],X(e,e.__value)},m(r,i){D(r,e,i),g(e,l)},p(r,i){i&4&&n!==(n=r[9]+"")&&ie(l,n),i&4&&t!==(t=r[9])&&(e.__value=t,X(e,e.__value))},d(r){r&&p(e)}}}function et(o){let e,n=(o[9]==="deposit"||o[9]==="withdraw")&&xe(o);return{c(){n&&n.c(),e=K()},l(l){n&&n.l(l),e=K()},m(l,t){n&&n.m(l,t),D(l,e,t)},p(l,t){l[9]==="deposit"||l[9]==="withdraw"?n?n.p(l,t):(n=xe(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&p(e),n&&n.d(l)}}}function tt(o){let e,n,l='<span class="label-text">Please choose an asset</span>',t,r,i,s="Select one",a,f,m='<span class="label-text-alt">Only transferrable assets supported by this anchor are listed.</span>',h,u,_=z(Object.keys(o[2][o[1].endpoint])),d=[];for(let c=0;c<_.length;c+=1)d[c]=lt(Ze(o,_,c));return{c(){e=w("div"),n=w("label"),n.innerHTML=l,t=B(),r=w("select"),i=w("option"),i.textContent=s;for(let c=0;c<d.length;c+=1)d[c].c();a=B(),f=w("label"),f.innerHTML=m,this.h()},l(c){e=E(c,"DIV",{class:!0});var k=S(e);n=E(k,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1jf6ywa"&&(n.innerHTML=l),t=F(k),r=E(k,"SELECT",{class:!0,id:!0,name:!0});var v=S(r);i=E(v,"OPTION",{"data-svelte-h":!0}),Y(i)!=="svelte-ekf9xb"&&(i.textContent=s);for(let N=0;N<d.length;N+=1)d[N].l(v);v.forEach(p),a=F(k),f=E(k,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(f)!=="svelte-ug2k0p"&&(f.innerHTML=m),k.forEach(p),this.h()},h(){b(n,"class","label"),b(n,"for","asset-select"),i.__value="",X(i,i.__value),i.disabled=!0,i.selected=!0,b(r,"class","select-bordered select"),b(r,"id","asset-select"),b(r,"name","asset-select"),o[0].asset_code===void 0&&Se(()=>o[4].call(r)),b(f,"class","label"),b(f,"for","asset-select"),b(e,"class","form-control my-1")},m(c,k){D(c,e,k),g(e,n),g(e,t),g(e,r),g(r,i);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(r,null);ve(r,o[0].asset_code,!0),g(e,a),g(e,f),h||(u=$(r,"change",o[4]),h=!0)},p(c,k){if(k&6){_=z(Object.keys(c[2][c[1].endpoint]));let v;for(v=0;v<_.length;v+=1){const N=Ze(c,_,v);d[v]?d[v].p(N,k):(d[v]=lt(N),d[v].c(),d[v].m(r,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=_.length}k&7&&ve(r,c[0].asset_code)},d(c){c&&p(e),le(d,c),h=!1,u()}}}function lt(o){let e,n=o[22]+"",l,t;return{c(){e=w("option"),l=M(n),this.h()},l(r){e=E(r,"OPTION",{});var i=S(e);l=U(i,n),i.forEach(p),this.h()},h(){e.__value=t=o[22],X(e,e.__value)},m(r,i){D(r,e,i),g(e,l)},p(r,i){i&6&&n!==(n=r[22]+"")&&ie(l,n),i&6&&t!==(t=r[22])&&(e.__value=t,X(e,e.__value))},d(r){r&&p(e)}}}function nt(o){let e,n="Transfer Fields",l,t,r="The anchor has requested the following information about your transfer",i,s,a,f,m='<span class="label-text">Amount</span>',h,u,_,d,c,k=z(Object.entries(o[2])),v=[];for(let P=0;P<k.length;P+=1)v[P]=st(Je(o,k,P));const N=P=>L(v[P],1,1,()=>{v[P]=null});return{c(){e=w("h4"),e.textContent=n,l=B(),t=w("p"),t.textContent=r,i=B();for(let P=0;P<v.length;P+=1)v[P].c();s=B(),a=w("div"),f=w("label"),f.innerHTML=m,h=B(),u=w("input"),this.h()},l(P){e=E(P,"H4",{"data-svelte-h":!0}),Y(e)!=="svelte-1qnwcci"&&(e.textContent=n),l=F(P),t=E(P,"P",{"data-svelte-h":!0}),Y(t)!=="svelte-1h8p97j"&&(t.textContent=r),i=F(P);for(let I=0;I<v.length;I+=1)v[I].l(P);s=F(P),a=E(P,"DIV",{class:!0});var j=S(a);f=E(j,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(f)!=="svelte-1zcc47"&&(f.innerHTML=m),h=F(j),u=E(j,"INPUT",{class:!0,type:!0,name:!0,id:!0}),j.forEach(p),this.h()},h(){b(f,"class","label"),b(f,"for","amount"),b(u,"class","input-bordered input"),b(u,"type","text"),b(u,"name","amount"),b(u,"id","amount"),u.required=!0,b(a,"class","form-control my-1")},m(P,j){D(P,e,j),D(P,l,j),D(P,t,j),D(P,i,j);for(let I=0;I<v.length;I+=1)v[I]&&v[I].m(P,j);D(P,s,j),D(P,a,j),g(a,f),g(a,h),g(a,u),X(u,o[0].amount),_=!0,d||(c=$(u,"input",o[8]),d=!0)},p(P,j){if(j&7){k=z(Object.entries(P[2]));let I;for(I=0;I<k.length;I+=1){const W=Je(P,k,I);v[I]?(v[I].p(W,j),A(v[I],1)):(v[I]=st(W),v[I].c(),A(v[I],1),v[I].m(s.parentNode,s))}for(G(),I=k.length;I<v.length;I+=1)N(I);Q()}j&7&&u.value!==P[0].amount&&X(u,P[0].amount)},i(P){if(!_){for(let j=0;j<k.length;j+=1)A(v[j]);_=!0}},o(P){v=v.filter(Boolean);for(let j=0;j<v.length;j+=1)L(v[j]);_=!1},d(P){P&&(p(e),p(l),p(t),p(i),p(s),p(a)),le(v,P),d=!1,c()}}}function nl(o){let e,n,l='<span class="label-text">Transfer Type</span>',t,r,i,s="Select one",a,f,m,h,u,_=z(Object.keys(o[10][o[0].asset_code].types)),d=[];for(let k=0;k<_.length;k+=1)d[k]=it(Ge(o,_,k));let c=o[0].type&&ot(o);return{c(){e=w("div"),n=w("label"),n.innerHTML=l,t=B(),r=w("select"),i=w("option"),i.textContent=s;for(let k=0;k<d.length;k+=1)d[k].c();a=B(),c&&c.c(),f=K(),this.h()},l(k){e=E(k,"DIV",{class:!0});var v=S(e);n=E(v,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(n)!=="svelte-y7f5r6"&&(n.innerHTML=l),t=F(v),r=E(v,"SELECT",{name:!0,id:!0,class:!0});var N=S(r);i=E(N,"OPTION",{"data-svelte-h":!0}),Y(i)!=="svelte-ekf9xb"&&(i.textContent=s);for(let P=0;P<d.length;P+=1)d[P].l(N);N.forEach(p),v.forEach(p),a=F(k),c&&c.l(k),f=K(),this.h()},h(){b(n,"class","label"),b(n,"for","transfer-type"),i.__value="",X(i,i.__value),i.disabled=!0,i.selected=!0,b(r,"name","transfer-type"),b(r,"id","transfer-type"),b(r,"class","select-bordered select"),o[0].type===void 0&&Se(()=>o[6].call(r)),b(e,"class","form-control w-full max-w-xs")},m(k,v){D(k,e,v),g(e,n),g(e,t),g(e,r),g(r,i);for(let N=0;N<d.length;N+=1)d[N]&&d[N].m(r,null);ve(r,o[0].type,!0),D(k,a,v),c&&c.m(k,v),D(k,f,v),m=!0,h||(u=$(r,"change",o[6]),h=!0)},p(k,v){if(v&5){_=z(Object.keys(k[10][k[0].asset_code].types));let N;for(N=0;N<_.length;N+=1){const P=Ge(k,_,N);d[N]?d[N].p(P,v):(d[N]=it(P),d[N].c(),d[N].m(r,null))}for(;N<d.length;N+=1)d[N].d(1);d.length=_.length}v&7&&ve(r,k[0].type),k[0].type?c?(c.p(k,v),v&1&&A(c,1)):(c=ot(k),c.c(),A(c,1),c.m(f.parentNode,f)):c&&(G(),L(c,1,1,()=>{c=null}),Q())},i(k){m||(A(c),m=!0)},o(k){L(c),m=!1},d(k){k&&(p(e),p(a),p(f)),le(d,k),c&&c.d(k),h=!1,u()}}}function il(o){let e,n,l=z(Object.entries(o[10][o[0].asset_code].fields)),t=[];for(let i=0;i<l.length;i+=1)t[i]=at(Qe(o,l,i));const r=i=>L(t[i],1,1,()=>{t[i]=null});return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=K()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);e=K()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);D(i,e,s),n=!0},p(i,s){if(s&5){l=z(Object.entries(i[10][i[0].asset_code].fields));let a;for(a=0;a<l.length;a+=1){const f=Qe(i,l,a);t[a]?(t[a].p(f,s),A(t[a],1)):(t[a]=at(f),t[a].c(),A(t[a],1),t[a].m(e.parentNode,e))}for(G(),a=l.length;a<t.length;a+=1)r(a);Q()}},i(i){if(!n){for(let s=0;s<l.length;s+=1)A(t[s]);n=!0}},o(i){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)L(t[s]);n=!1},d(i){i&&p(e),le(t,i)}}}function it(o){let e,n=o[19]+"",l,t;return{c(){e=w("option"),l=M(n),this.h()},l(r){e=E(r,"OPTION",{});var i=S(e);l=U(i,n),i.forEach(p),this.h()},h(){e.__value=t=o[19],X(e,e.__value)},m(r,i){D(r,e,i),g(e,l)},p(r,i){i&5&&n!==(n=r[19]+"")&&ie(l,n),i&7&&t!==(t=r[19])&&(e.__value=t,X(e,e.__value))},d(r){r&&p(e)}}}function ot(o){let e,n,l=z(Object.entries(o[10][o[0].asset_code].types[o[0].type].fields)),t=[];for(let i=0;i<l.length;i+=1)t[i]=rt(Xe(o,l,i));const r=i=>L(t[i],1,1,()=>{t[i]=null});return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=K()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);e=K()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);D(i,e,s),n=!0},p(i,s){if(s&5){l=z(Object.entries(i[10][i[0].asset_code].types[i[0].type].fields));let a;for(a=0;a<l.length;a+=1){const f=Xe(i,l,a);t[a]?(t[a].p(f,s),A(t[a],1)):(t[a]=rt(f),t[a].c(),A(t[a],1),t[a].m(e.parentNode,e))}for(G(),a=l.length;a<t.length;a+=1)r(a);Q()}},i(i){if(!n){for(let s=0;s<l.length;s+=1)A(t[s]);n=!0}},o(i){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)L(t[s]);n=!1},d(i){i&&p(e),le(t,i)}}}function rt(o){let e,n,l;function t(i){o[7](i,o[13])}let r={field:o[13],fieldInfo:o[14]};return o[0][o[13]]!==void 0&&(r.value=o[0][o[13]]),e=new jt({props:r}),Z.push(()=>ee(e,"value",t)),{c(){oe(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,s){ae(e,i,s),l=!0},p(i,s){o=i;const a={};s&5&&(a.field=o[13]),s&5&&(a.fieldInfo=o[14]),!n&&s&5&&(n=!0,a.value=o[0][o[13]],x(()=>n=!1)),e.$set(a)},i(i){l||(A(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){se(e,i)}}}function at(o){let e,n,l;function t(i){o[5](i,o[13])}let r={field:o[13],fieldInfo:o[14]};return o[0][o[13]]!==void 0&&(r.value=o[0][o[13]]),e=new jt({props:r}),Z.push(()=>ee(e,"value",t)),{c(){oe(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,s){ae(e,i,s),l=!0},p(i,s){o=i;const a={};s&5&&(a.field=o[13]),s&5&&(a.fieldInfo=o[14]),!n&&s&5&&(n=!0,a.value=o[0][o[13]],x(()=>n=!1)),e.$set(a)},i(i){l||(A(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){se(e,i)}}}function st(o){let e,n,l,t;const r=[il,nl],i=[];function s(a,f){return a[1].endpoint==="deposit"&&a[9]==="deposit"?0:a[1].endpoint==="withdraw"&&a[9]==="withdraw"?1:-1}return~(e=s(o))&&(n=i[e]=r[e](o)),{c(){n&&n.c(),l=K()},l(a){n&&n.l(a),l=K()},m(a,f){~e&&i[e].m(a,f),D(a,l,f),t=!0},p(a,f){let m=e;e=s(a),e===m?~e&&i[e].p(a,f):(n&&(G(),L(i[m],1,1,()=>{i[m]=null}),Q()),~e?(n=i[e],n?n.p(a,f):(n=i[e]=r[e](a),n.c()),A(n,1),n.m(l.parentNode,l)):n=null)},i(a){t||(A(n),t=!0)},o(a){L(n),t=!1},d(a){a&&p(l),~e&&i[e].d(a)}}}function ol(o){let e,n="Let's begin by deciding what kind of transfer you want to make.",l,t,r,i='<span class="label-text">What kind of transfer would you like to make?</span>',s,a,f,m="Select one",h,u,_='<span class="label-text-alt">Only transfer types supported by this anchor are listed.</span>',d,c,k,v,N,P,j=z(Object.keys(o[2])),I=[];for(let y=0;y<j.length;y+=1)I[y]=et($e(o,j,y));let W=o[1].endpoint&&tt(o),V=o[0].asset_code&&nt(o);return{c(){e=w("p"),e.textContent=n,l=B(),t=w("div"),r=w("label"),r.innerHTML=i,s=B(),a=w("select"),f=w("option"),f.textContent=m;for(let y=0;y<I.length;y+=1)I[y].c();h=B(),u=w("label"),u.innerHTML=_,d=B(),W&&W.c(),c=B(),V&&V.c(),k=K(),this.h()},l(y){e=E(y,"P",{"data-svelte-h":!0}),Y(e)!=="svelte-1egt3bu"&&(e.textContent=n),l=F(y),t=E(y,"DIV",{class:!0});var C=S(t);r=E(C,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(r)!=="svelte-85gdpk"&&(r.innerHTML=i),s=F(C),a=E(C,"SELECT",{class:!0,id:!0,name:!0});var O=S(a);f=E(O,"OPTION",{"data-svelte-h":!0}),Y(f)!=="svelte-ekf9xb"&&(f.textContent=m);for(let q=0;q<I.length;q+=1)I[q].l(O);O.forEach(p),h=F(C),u=E(C,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(u)!=="svelte-1wa1hba"&&(u.innerHTML=_),C.forEach(p),d=F(y),W&&W.l(y),c=F(y),V&&V.l(y),k=K(),this.h()},h(){b(r,"class","label"),b(r,"for","endpoint-select"),f.__value="",X(f,f.__value),f.disabled=!0,f.selected=!0,b(a,"class","select-bordered select"),b(a,"id","endpoint-select"),b(a,"name","endpoint-select"),o[1].endpoint===void 0&&Se(()=>o[3].call(a)),b(u,"class","label"),b(u,"for","endpoint-select"),b(t,"class","form-control my-1")},m(y,C){D(y,e,C),D(y,l,C),D(y,t,C),g(t,r),g(t,s),g(t,a),g(a,f);for(let O=0;O<I.length;O+=1)I[O]&&I[O].m(a,null);ve(a,o[1].endpoint,!0),g(t,h),g(t,u),D(y,d,C),W&&W.m(y,C),D(y,c,C),V&&V.m(y,C),D(y,k,C),v=!0,N||(P=$(a,"change",o[3]),N=!0)},p(y,[C]){if(C&4){j=z(Object.keys(y[2]));let O;for(O=0;O<j.length;O+=1){const q=$e(y,j,O);I[O]?I[O].p(q,C):(I[O]=et(q),I[O].c(),I[O].m(a,null))}for(;O<I.length;O+=1)I[O].d(1);I.length=j.length}C&6&&ve(a,y[1].endpoint),y[1].endpoint?W?W.p(y,C):(W=tt(y),W.c(),W.m(c.parentNode,c)):W&&(W.d(1),W=null),y[0].asset_code?V?(V.p(y,C),C&1&&A(V,1)):(V=nt(y),V.c(),A(V,1),V.m(k.parentNode,k)):V&&(G(),L(V,1,1,()=>{V=null}),Q())},i(y){v||(A(V),v=!0)},o(y){L(V),v=!1},d(y){y&&(p(e),p(l),p(t),p(d),p(c),p(k)),le(I,y),W&&W.d(y),V&&V.d(y),N=!1,P()}}}function rl(o,e,n){let{formData:l={}}=e,{transferData:t={}}=e,{sep6Info:r={}}=e;function i(){t.endpoint=ye(this),n(1,t),n(2,r)}function s(){l.asset_code=ye(this),n(0,l),n(2,r),n(1,t)}function a(u,_){o.$$.not_equal(l[_],u)&&(l[_]=u,n(0,l))}function f(){l.type=ye(this),n(0,l),n(2,r),n(1,t)}function m(u,_){o.$$.not_equal(l[_],u)&&(l[_]=u,n(0,l))}function h(){l.amount=this.value,n(0,l),n(2,r),n(1,t)}return o.$$set=u=>{"formData"in u&&n(0,l=u.formData),"transferData"in u&&n(1,t=u.transferData),"sep6Info"in u&&n(2,r=u.sep6Info)},[l,t,r,i,s,a,f,m,h]}class al extends ce{constructor(e){super(),ue(this,e,rl,ol,fe,{formData:0,transferData:1,sep6Info:2})}}async function Te({authToken:o,homeDomain:e}){let n=await Oe(e),t=await(await fetch(`${n}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}})).json();return console.log("getSep12Fields json",t),t}async function sl({authToken:o,fields:e,homeDomain:n}){let l=await Oe(n),r=await(await fetch(`${l}/customer`,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(e)})).json();return console.log("putSep12Fields json",r),r}async function ft({authToken:o,publicKey:e,homeDomain:n}){let l=await Oe(n),r=await(await fetch(`${l}/customer/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}})).json();return console.log("deleteSep12Customer json",r),r}function ct(o,e,n){const l=o.slice();return l[9]=e[n][0],l[10]=e[n][1],l[11]=e,l[12]=n,l}function ut(o,e,n){const l=o.slice();return l[9]=e[n][0],l[10]=e[n][1],l[13]=e,l[14]=n,l}function fl(o){return{c:T,l:T,m:T,p:T,d:T}}function cl(o){let e,n,l=o[8].provided_fields&&ul(o),t=z(Object.entries(o[8].fields)),r=[];for(let i=0;i<t.length;i+=1)r[i]=_t(ct(o,t,i));return{c(){l&&l.c(),e=B();for(let i=0;i<r.length;i+=1)r[i].c();n=K()},l(i){l&&l.l(i),e=F(i);for(let s=0;s<r.length;s+=1)r[s].l(i);n=K()},m(i,s){l&&l.m(i,s),D(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,s);D(i,n,s)},p(i,s){if(i[8].provided_fields&&l.p(i,s),s&20){t=z(Object.entries(i[8].fields));let a;for(a=0;a<t.length;a+=1){const f=ct(i,t,a);r[a]?r[a].p(f,s):(r[a]=_t(f),r[a].c(),r[a].m(n.parentNode,n))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&(p(e),p(n)),l&&l.d(i),le(r,i)}}}function ul(o){let e,n,l,t,r=`You have already submitted the following KYC information to this anchor: (click to
                expand)`,i,s,a,f,m="Delete Customer Data",h,u,_=z(Object.entries(o[8].provided_fields)),d=[];for(let c=0;c<_.length;c+=1)d[c]=ht(ut(o,_,c));return{c(){e=w("div"),n=w("input"),l=B(),t=w("div"),t.textContent=r,i=B(),s=w("div");for(let c=0;c<d.length;c+=1)d[c].c();a=B(),f=w("button"),f.textContent=m,this.h()},l(c){e=E(c,"DIV",{class:!0});var k=S(e);n=E(k,"INPUT",{type:!0}),l=F(k),t=E(k,"DIV",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-14w3f05"&&(t.textContent=r),i=F(k),s=E(k,"DIV",{class:!0});var v=S(s);for(let N=0;N<d.length;N+=1)d[N].l(v);a=F(v),f=E(v,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(f)!=="svelte-ybrivc"&&(f.textContent=m),v.forEach(p),k.forEach(p),this.h()},h(){b(n,"type","checkbox"),b(t,"class","collapse-title font-medium"),b(f,"class","btn-error btn"),b(s,"class","collapse-content"),b(e,"class","collapse bg-base-200")},m(c,k){D(c,e,k),g(e,n),g(e,l),g(e,t),g(e,i),g(e,s);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(s,null);g(s,a),g(s,f),h||(u=$(f,"click",function(){Pt(ft({authToken:o[1][o[0]],publicKey:o[3].data.publicKey,homeDomain:o[0]}))&&ft({authToken:o[1][o[0]],publicKey:o[3].data.publicKey,homeDomain:o[0]}).apply(this,arguments)}),h=!0)},p(c,k){if(o=c,k&20){_=z(Object.entries(o[8].provided_fields));let v;for(v=0;v<_.length;v+=1){const N=ut(o,_,v);d[v]?d[v].p(N,k):(d[v]=ht(N),d[v].c(),d[v].m(s,a))}for(;v<d.length;v+=1)d[v].d(1);d.length=_.length}},d(c){c&&p(e),le(d,c),h=!1,u()}}}function hl(o){let e,n="Optional";return{c(){e=w("span"),e.textContent=n,this.h()},l(l){e=E(l,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-b1j7h"&&(e.textContent=n),this.h()},h(){b(e,"class","label-text-alt")},m(l,t){D(l,e,t)},d(l){l&&p(e)}}}function _l(o){let e,n,l;function t(){o[6].call(e,o[9])}return{c(){e=w("input"),this.h()},l(r){e=E(r,"INPUT",{class:!0,type:!0,name:!0,id:!0}),this.h()},h(){b(e,"class","input-bordered input"),b(e,"type","text"),b(e,"name",o[9]),b(e,"id",o[9]),e.required=!o[10].optional,e.disabled=!0},m(r,i){D(r,e,i),X(e,o[2][o[9]]),n||(l=$(e,"input",t),n=!0)},p(r,i){o=r,i&20&&e.value!==o[2][o[9]]&&X(e,o[2][o[9]])},d(r){r&&p(e),n=!1,l()}}}function dl(o){let e;return{c(){e=w("input"),this.h()},l(n){e=E(n,"INPUT",{type:!0,class:!0}),this.h()},h(){b(e,"type","file"),b(e,"class","file-input-bordered file-input"),e.disabled=!0},m(n,l){D(n,e,l)},p:T,d(n){n&&p(e)}}}function ht(o){let e,n,l,t=o[10].description+"",r,i,s,a=o[10].optional&&hl();function f(u,_){return u[10].type==="binary"?dl:_l}let h=f(o)(o);return{c(){e=w("div"),n=w("label"),l=w("span"),r=M(t),i=B(),a&&a.c(),s=B(),h.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var _=S(e);n=E(_,"LABEL",{class:!0,for:!0});var d=S(n);l=E(d,"SPAN",{class:!0});var c=S(l);r=U(c,t),c.forEach(p),i=F(d),a&&a.l(d),d.forEach(p),s=F(_),h.l(_),_.forEach(p),this.h()},h(){b(l,"class","label-text"),b(n,"class","label"),b(n,"for",o[9]),b(e,"class","form-control")},m(u,_){D(u,e,_),g(e,n),g(n,l),g(l,r),g(n,i),a&&a.m(n,null),g(e,s),h.m(e,null)},p(u,_){h.p(u,_)},d(u){u&&p(e),a&&a.d(),h.d()}}}function ml(o){let e,n="Optional";return{c(){e=w("span"),e.textContent=n,this.h()},l(l){e=E(l,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-b1j7h"&&(e.textContent=n),this.h()},h(){b(e,"class","label-text-alt")},m(l,t){D(l,e,t)},d(l){l&&p(e)}}}function pl(o){let e,n,l;function t(){o[7].call(e,o[9])}return{c(){e=w("input"),this.h()},l(r){e=E(r,"INPUT",{class:!0,type:!0,name:!0,id:!0}),this.h()},h(){b(e,"class","input-bordered input my-1"),b(e,"type","text"),b(e,"name",o[9]),b(e,"id",o[9]),e.required=!o[10].optional},m(r,i){D(r,e,i),X(e,o[2][o[9]]),n||(l=$(e,"input",t),n=!0)},p(r,i){o=r,i&20&&e.value!==o[2][o[9]]&&X(e,o[2][o[9]])},d(r){r&&p(e),n=!1,l()}}}function bl(o){let e;return{c(){e=w("input"),this.h()},l(n){e=E(n,"INPUT",{type:!0,class:!0}),this.h()},h(){b(e,"type","file"),b(e,"class","file-input-bordered file-input my-1")},m(n,l){D(n,e,l)},p:T,d(n){n&&p(e)}}}function _t(o){let e,n,l,t=o[10].description+"",r,i,s,a,f=o[10].optional&&ml();function m(_,d){return _[10].type==="binary"?bl:pl}let u=m(o)(o);return{c(){e=w("div"),n=w("label"),l=w("span"),r=M(t),i=B(),f&&f.c(),s=B(),u.c(),a=B(),this.h()},l(_){e=E(_,"DIV",{class:!0});var d=S(e);n=E(d,"LABEL",{class:!0,for:!0});var c=S(n);l=E(c,"SPAN",{class:!0});var k=S(l);r=U(k,t),k.forEach(p),i=F(c),f&&f.l(c),c.forEach(p),s=F(d),u.l(d),a=F(d),d.forEach(p),this.h()},h(){b(l,"class","label-text"),b(n,"class","label"),b(n,"for","field"),b(e,"class","form-control")},m(_,d){D(_,e,d),g(e,n),g(n,l),g(l,r),g(n,i),f&&f.m(n,null),g(e,s),u.m(e,null),g(e,a)},p(_,d){u.p(_,d)},d(_){_&&p(e),f&&f.d(),u.d()}}}function kl(o){let e,n="loading...";return{c(){e=w("p"),e.textContent=n},l(l){e=E(l,"P",{"data-svelte-h":!0}),Y(e)!=="svelte-qeejp2"&&(e.textContent=n)},m(l,t){D(l,e,t)},p:T,d(l){l&&p(e)}}}function vl(o){let e,n=`Next, we've checked with the anchor to see what KYC information is needed from you to make the
    deposit successful.`,l,t,r={ctx:o,current:null,token:null,hasCatch:!1,pending:kl,then:cl,catch:fl,value:8};return _e(o[4](),r),{c(){e=w("p"),e.textContent=n,l=B(),t=K(),r.block.c()},l(i){e=E(i,"P",{"data-svelte-h":!0}),Y(e)!=="svelte-s3brah"&&(e.textContent=n),l=F(i),t=K(),r.block.l(i)},m(i,s){D(i,e,s),D(i,l,s),D(i,t,s),r.block.m(i,r.anchor=s),r.mount=()=>t.parentNode,r.anchor=t},p(i,[s]){o=i,we(r,o,s)},i:T,o:T,d(i){i&&(p(e),p(l),p(t)),r.block.d(i),r.token=null,r=null}}}function gl(o,e,n){let l,t,r;ke(o,ge,h=>n(1,l=h)),ke(o,Ce,h=>n(2,t=h)),ke(o,Vt,h=>n(3,r=h));let{homeDomain:i=""}=e,{sep12Fields:s=[]}=e;const a=async()=>{let h=await Te({authToken:l[i],homeDomain:i});if(h.fields)for(let u in h.fields)s.push(u);return h};function f(h){t[h]=this.value,Ce.set(t)}function m(h){t[h]=this.value,Ce.set(t)}return o.$$set=h=>{"homeDomain"in h&&n(0,i=h.homeDomain),"sep12Fields"in h&&n(5,s=h.sep12Fields)},[i,l,t,r,a,s,f,m]}class wl extends ce{constructor(e){super(),ue(this,e,gl,vl,fe,{homeDomain:0,sep12Fields:5})}}function El(o){return{c:T,l:T,m:T,p:T,d:T}}function Dl(o){let e;function n(r,i){return r[6]==="ACCEPTED"?Cl:yl}let t=n(o)(o);return{c(){t.c(),e=K()},l(r){t.l(r),e=K()},m(r,i){t.m(r,i),D(r,e,i)},p(r,i){t.p(r,i)},d(r){r&&p(e),t.d(r)}}}function yl(o){let e,n,l,t,r=o[6]+"",i,s,a,f,m="Refresh status",h,u;return{c(){e=w("p"),n=M("Your current KYC status with the anchor is "),l=w("strong"),t=w("code"),i=M(r),s=M(`.
            Please wait a moment and try again.`),a=B(),f=w("button"),f.textContent=m,this.h()},l(_){e=E(_,"P",{});var d=S(e);n=U(d,"Your current KYC status with the anchor is "),l=E(d,"STRONG",{});var c=S(l);t=E(c,"CODE",{});var k=S(t);i=U(k,r),k.forEach(p),c.forEach(p),s=U(d,`.
            Please wait a moment and try again.`),d.forEach(p),a=F(_),f=E(_,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(f)!=="svelte-i2mflv"&&(f.textContent=m),this.h()},h(){b(f,"class","btn-primary btn")},m(_,d){D(_,e,d),g(e,n),g(e,l),g(l,t),g(t,i),g(e,s),D(_,a,d),D(_,f,d),h||(u=$(f,"click",function(){Pt(Te({authToken:o[1][o[0]],homeDomain:o[0]}))&&Te({authToken:o[1][o[0]],homeDomain:o[0]}).apply(this,arguments)}),h=!0)},p(_,d){o=_},d(_){_&&(p(e),p(a),p(f)),h=!1,u()}}}function Cl(o){let e,n,l,t,r=o[6]+"",i,s;return{c(){e=w("p"),n=M("Your KYC information has been "),l=w("strong"),t=w("code"),i=M(r),s=M(` by the anchor. Please
            proceed with the rest of the transfer. When you click the "Next" button, the transfer will
            be submitted to the anchor server.`)},l(a){e=E(a,"P",{});var f=S(e);n=U(f,"Your KYC information has been "),l=E(f,"STRONG",{});var m=S(l);t=E(m,"CODE",{});var h=S(t);i=U(h,r),h.forEach(p),m.forEach(p),s=U(f,` by the anchor. Please
            proceed with the rest of the transfer. When you click the "Next" button, the transfer will
            be submitted to the anchor server.`),f.forEach(p)},m(a,f){D(a,e,f),g(e,n),g(e,l),g(l,t),g(t,i),g(e,s)},p:T,d(a){a&&p(e)}}}function Tl(o){let e,n="loading...";return{c(){e=w("p"),e.textContent=n},l(l){e=E(l,"P",{"data-svelte-h":!0}),Y(e)!=="svelte-qeejp2"&&(e.textContent=n)},m(l,t){D(l,e,t)},p:T,d(l){l&&p(e)}}}function Sl(o){let e,n=`We have now submitted your KYC details to the anchor, and are waiting for their server to let us
    know a status.`,l,t,r={ctx:o,current:null,token:null,hasCatch:!1,pending:Tl,then:Dl,catch:El,value:6};return _e(o[2](),r),{c(){e=w("p"),e.textContent=n,l=B(),t=K(),r.block.c()},l(i){e=E(i,"P",{"data-svelte-h":!0}),Y(e)!=="svelte-1rbvowy"&&(e.textContent=n),l=F(i),t=K(),r.block.l(i)},m(i,s){D(i,e,s),D(i,l,s),D(i,t,s),r.block.m(i,r.anchor=s),r.mount=()=>t.parentNode,r.anchor=t},p(i,[s]){o=i,we(r,o,s)},i:T,o:T,d(i){i&&(p(e),p(l),p(t)),r.block.d(i),r.token=null,r=null}}}function Il(o,e,n){let l,t;ke(o,ge,f=>n(1,l=f)),ke(o,Ce,f=>n(5,t=f));let{sep12Fields:r=[]}=e,{homeDomain:i=""}=e,{transferData:s={}}=e;const a=async()=>{let f=r.reduce((u,_)=>(t[_]&&(u[_]=t[_]),u),{}),m=await sl({authToken:l[i],fields:f,homeDomain:i});n(3,s.customer_id=m.id,s);let{status:h}=await Te({authToken:l[i],homeDomain:i});return h};return o.$$set=f=>{"sep12Fields"in f&&n(4,r=f.sep12Fields),"homeDomain"in f&&n(0,i=f.homeDomain),"transferData"in f&&n(3,s=f.transferData)},[i,l,a,s,r]}class Nl extends ce{constructor(e){super(),ue(this,e,Il,Sl,fe,{sep12Fields:4,homeDomain:0,transferData:3})}}function dt(o,e,n){const l=o.slice();return l[8]=e[n],l}function Pl(o){return{c:T,l:T,m:T,p:T,d:T}}function Al(o){let e,n,l,t=z(Object.keys(o[7])),r=[];for(let i=0;i<t.length;i+=1)r[i]=mt(dt(o,t,i));return{c(){e=w("div"),n=w("table"),l=w("tbody");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=E(i,"DIV",{class:!0});var s=S(e);n=E(s,"TABLE",{class:!0});var a=S(n);l=E(a,"TBODY",{});var f=S(l);for(let m=0;m<r.length;m+=1)r[m].l(f);f.forEach(p),a.forEach(p),s.forEach(p),this.h()},h(){b(n,"class","table"),b(e,"class","overflow-x-auto")},m(i,s){D(i,e,s),g(e,n),g(n,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(l,null)},p(i,s){if(s&1){t=z(Object.keys(i[7]));let a;for(a=0;a<t.length;a+=1){const f=dt(i,t,a);r[a]?r[a].p(f,s):(r[a]=mt(f),r[a].c(),r[a].m(l,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&p(e),le(r,i)}}}function mt(o){let e,n,l=o[8]+"",t,r,i,s=(o[8]==="extra_info"?o[7][o[8]].message:o[7][o[8]])+"",a,f;return{c(){e=w("tr"),n=w("th"),t=M(l),r=B(),i=w("td"),a=M(s),f=B()},l(m){e=E(m,"TR",{});var h=S(e);n=E(h,"TH",{});var u=S(n);t=U(u,l),u.forEach(p),r=F(h),i=E(h,"TD",{});var _=S(i);a=U(_,s),_.forEach(p),f=F(h),h.forEach(p)},m(m,h){D(m,e,h),g(e,n),g(n,t),g(e,r),g(e,i),g(i,a),g(e,f)},p:T,d(m){m&&p(e)}}}function Ol(o){let e,n="loading...";return{c(){e=w("p"),e.textContent=n},l(l){e=E(l,"P",{"data-svelte-h":!0}),Y(e)!=="svelte-qeejp2"&&(e.textContent=n)},m(l,t){D(l,e,t)},p:T,d(l){l&&p(e)}}}function jl(o){let e,n=`<em>You may not be finished yet.</em> We have submitted your transfer to the anchor, and any further
    details and/or instructions are listed below. You may need to initiate a transfer to/from your bank.`,l,t,r={ctx:o,current:null,token:null,hasCatch:!1,pending:Ol,then:Al,catch:Pl,value:7};return _e(o[0](),r),{c(){e=w("p"),e.innerHTML=n,l=B(),t=K(),r.block.c()},l(i){e=E(i,"P",{"data-svelte-h":!0}),Y(e)!=="svelte-x6bb1n"&&(e.innerHTML=n),l=F(i),t=K(),r.block.l(i)},m(i,s){D(i,e,s),D(i,l,s),D(i,t,s),r.block.m(i,r.anchor=s),r.mount=()=>t.parentNode,r.anchor=t},p(i,[s]){o=i,we(r,o,s)},i:T,o:T,d(i){i&&(p(e),p(l),p(t)),r.block.d(i),r.token=null,r=null}}}function Rl(o,e,n){let l,t;ke(o,ge,m=>n(5,l=m)),ke(o,Pe,m=>n(6,t=m)),console.log("here are the transfers",t);let{transferData:r={}}=e,{formData:i={}}=e,{homeDomain:s=""}=e,{transferJson:a={}}=e;const f=async()=>{if(r.transfer_submitted)return await Kt({authToken:l[s],transferId:r.transfer_id,domain:s});{let m=await Ht({authToken:l[s],endpoint:r.endpoint,formData:i,domain:s});return console.log("submitTransfer json",m),m.id&&(n(1,r.transfer_submitted=!0,r),n(1,r.transfer_id=m.id,r),Pe.addTransfer({homeDomain:s,protocol:"sep6",assetCode:i.asset_code,transferID:m.id})),n(2,a=m),m}};return o.$$set=m=>{"transferData"in m&&n(1,r=m.transferData),"formData"in m&&n(3,i=m.formData),"homeDomain"in m&&n(4,s=m.homeDomain),"transferJson"in m&&n(2,a=m.transferJson)},[f,r,a,i,s]}class Ll extends ce{constructor(e){super(),ue(this,e,Rl,jl,fe,{transferData:1,formData:3,homeDomain:4,transferJson:2})}}function Bl(o){let e,n,l,t,r,i,s,a;function f(c){o[25](c)}function m(c){o[26](c)}function h(c){o[27](c)}function u(c){o[28](c)}let _={};o[2]!==void 0&&(_.transferData=o[2]),o[0]!==void 0&&(_.homeDomain=o[0]),o[3]!==void 0&&(_.formData=o[3]),o[10]!==void 0&&(_.transferJson=o[10]),e=new Ll({props:_}),Z.push(()=>ee(e,"transferData",f)),Z.push(()=>ee(e,"homeDomain",m)),Z.push(()=>ee(e,"formData",h)),Z.push(()=>ee(e,"transferJson",u));let d=o[2].endpoint==="withdraw"&&pt(o);return{c(){oe(e.$$.fragment),i=B(),d&&d.c(),s=K()},l(c){re(e.$$.fragment,c),i=F(c),d&&d.l(c),s=K()},m(c,k){ae(e,c,k),D(c,i,k),d&&d.m(c,k),D(c,s,k),a=!0},p(c,k){const v={};!n&&k[0]&4&&(n=!0,v.transferData=c[2],x(()=>n=!1)),!l&&k[0]&1&&(l=!0,v.homeDomain=c[0],x(()=>l=!1)),!t&&k[0]&8&&(t=!0,v.formData=c[3],x(()=>t=!1)),!r&&k[0]&1024&&(r=!0,v.transferJson=c[10],x(()=>r=!1)),e.$set(v),c[2].endpoint==="withdraw"?d?d.p(c,k):(d=pt(c),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null)},i(c){a||(A(e.$$.fragment,c),a=!0)},o(c){L(e.$$.fragment,c),a=!1},d(c){c&&(p(i),p(s)),se(e,c),d&&d.d(c)}}}function Fl(o){let e,n,l,t,r;function i(m){o[22](m)}function s(m){o[23](m)}function a(m){o[24](m)}let f={};return o[0]!==void 0&&(f.homeDomain=o[0]),o[9]!==void 0&&(f.sep12Fields=o[9]),o[2]!==void 0&&(f.transferData=o[2]),e=new Nl({props:f}),Z.push(()=>ee(e,"homeDomain",i)),Z.push(()=>ee(e,"sep12Fields",s)),Z.push(()=>ee(e,"transferData",a)),{c(){oe(e.$$.fragment)},l(m){re(e.$$.fragment,m)},m(m,h){ae(e,m,h),r=!0},p(m,h){const u={};!n&&h[0]&1&&(n=!0,u.homeDomain=m[0],x(()=>n=!1)),!l&&h[0]&512&&(l=!0,u.sep12Fields=m[9],x(()=>l=!1)),!t&&h[0]&4&&(t=!0,u.transferData=m[2],x(()=>t=!1)),e.$set(u)},i(m){r||(A(e.$$.fragment,m),r=!0)},o(m){L(e.$$.fragment,m),r=!1},d(m){se(e,m)}}}function Vl(o){let e,n,l,t;function r(a){o[20](a)}function i(a){o[21](a)}let s={};return o[0]!==void 0&&(s.homeDomain=o[0]),o[9]!==void 0&&(s.sep12Fields=o[9]),e=new wl({props:s}),Z.push(()=>ee(e,"homeDomain",r)),Z.push(()=>ee(e,"sep12Fields",i)),{c(){oe(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,f){ae(e,a,f),t=!0},p(a,f){const m={};!n&&f[0]&1&&(n=!0,m.homeDomain=a[0],x(()=>n=!1)),!l&&f[0]&512&&(l=!0,m.sep12Fields=a[9],x(()=>l=!1)),e.$set(m)},i(a){t||(A(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){se(e,a)}}}function Kl(o){let e,n,l,t,r;function i(m){o[17](m)}function s(m){o[18](m)}function a(m){o[19](m)}let f={};return o[2]!==void 0&&(f.transferData=o[2]),o[3]!==void 0&&(f.formData=o[3]),o[1]!==void 0&&(f.sep6Info=o[1]),e=new al({props:f}),Z.push(()=>ee(e,"transferData",i)),Z.push(()=>ee(e,"formData",s)),Z.push(()=>ee(e,"sep6Info",a)),{c(){oe(e.$$.fragment)},l(m){re(e.$$.fragment,m)},m(m,h){ae(e,m,h),r=!0},p(m,h){const u={};!n&&h[0]&4&&(n=!0,u.transferData=m[2],x(()=>n=!1)),!l&&h[0]&8&&(l=!0,u.formData=m[3],x(()=>l=!1)),!t&&h[0]&2&&(t=!0,u.sep6Info=m[1],x(()=>t=!1)),e.$set(u)},i(m){r||(A(e.$$.fragment,m),r=!0)},o(m){L(e.$$.fragment,m),r=!1},d(m){se(e,m)}}}function pt(o){let e,n="Send Stellar Payment",l,t;return{c(){e=w("button"),e.textContent=n,this.h()},l(r){e=E(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-66g804"&&(e.textContent=n),this.h()},h(){b(e,"class","btn-primary btn my-1")},m(r,i){D(r,e,i),l||(t=$(e,"click",o[29]),l=!0)},p:T,d(r){r&&p(e),l=!1,t()}}}function Hl(o){let e,n,l,t,r,i,s,a,f,m,h,u,_,d,c,k,v,N,P,j,I,W,V,y,C;function O(H){o[15](H)}let q={steps:o[13]};o[8]!==void 0&&(q.currentActive=o[8]),a=new $t({props:q}),Z.push(()=>ee(a,"currentActive",O)),o[16](a);const ne=[Kl,Vl,Fl,Bl],te=[];function de(H,J){return H[12]==="Transfer Details"?0:H[12]==="KYC Information"?1:H[12]==="KYC Status"?2:H[12]==="Submit Transfer"?3:-1}return~(u=de(o))&&(_=te[u]=ne[u](o)),{c(){e=w("div"),n=w("h1"),l=M(o[4]),t=B(),r=w("p"),i=M(o[5]),s=B(),oe(a.$$.fragment),m=B(),h=w("form"),_&&_.c(),d=B(),c=w("div"),k=w("button"),v=M("Prev"),P=B(),j=w("button"),I=M("Next"),this.h()},l(H){e=E(H,"DIV",{class:!0});var J=S(e);n=E(J,"H1",{});var he=S(n);l=U(he,o[4]),he.forEach(p),t=F(J),r=E(J,"P",{});var me=S(r);i=U(me,o[5]),me.forEach(p),s=F(J),re(a.$$.fragment,J),m=F(J),h=E(J,"FORM",{});var R=S(h);_&&_.l(R),R.forEach(p),d=F(J),c=E(J,"DIV",{class:!0});var De=S(c);k=E(De,"BUTTON",{class:!0});var je=S(k);v=U(je,"Prev"),je.forEach(p),P=F(De),j=E(De,"BUTTON",{class:!0});var Re=S(j);I=U(Re,"Next"),Re.forEach(p),De.forEach(p),J.forEach(p),this.h()},h(){b(k,"class","btn"),k.disabled=N=o[8]===1,b(j,"class","btn"),j.disabled=W=o[8]===o[13].length,b(c,"class","my-4"),b(e,"class","prose p-3")},m(H,J){D(H,e,J),g(e,n),g(n,l),g(e,t),g(e,r),g(r,i),g(e,s),ae(a,e,null),g(e,m),g(e,h),~u&&te[u].m(h,null),g(e,d),g(e,c),g(c,k),g(k,v),g(c,P),g(c,j),g(j,I),V=!0,y||(C=[$(k,"click",o[30]),$(j,"click",o[31])],y=!0)},p(H,J){(!V||J[0]&16)&&ie(l,H[4]),(!V||J[0]&32)&&ie(i,H[5]);const he={};!f&&J[0]&256&&(f=!0,he.currentActive=H[8],x(()=>f=!1)),a.$set(he);let me=u;u=de(H),u===me?~u&&te[u].p(H,J):(_&&(G(),L(te[me],1,1,()=>{te[me]=null}),Q()),~u?(_=te[u],_?_.p(H,J):(_=te[u]=ne[u](H),_.c()),A(_,1),_.m(h,null)):_=null),(!V||J[0]&256&&N!==(N=H[8]===1))&&(k.disabled=N),(!V||J[0]&256&&W!==(W=H[8]===H[13].length))&&(j.disabled=W)},i(H){V||(A(a.$$.fragment,H),A(_),V=!0)},o(H){L(a.$$.fragment,H),L(_),V=!1},d(H){H&&p(e),o[16](null),se(a),~u&&te[u].d(),y=!1,Bt(C)}}}function Ml(o,e,n){let l,{title:t="Initiate SEP-6 Transfer"}=e,{body:r="Please follow the steps to begin a transfer with your chosen anchor."}=e,{homeDomain:i=""}=e,{sep6Info:s={}}=e,{assetIssuer:a=""}=e,{transferData:f={endpoint:"",customer_id:"",transfer_id:"",transfer_submitted:!1}}=e,{formData:m={asset_code:"",amount:""}}=e,h=[],u={},{submitPayment:_=async R=>{}}=e,d=["Transfer Details","KYC Information","KYC Status","Submit Transfer"],c=1,k;const v=R=>{k.handleStep(R)};function N(R){c=R,n(8,c)}function P(R){Z[R?"unshift":"push"](()=>{k=R,n(11,k)})}function j(R){f=R,n(2,f)}function I(R){m=R,n(3,m)}function W(R){s=R,n(1,s)}function V(R){i=R,n(0,i)}function y(R){h=R,n(9,h)}function C(R){i=R,n(0,i)}function O(R){h=R,n(9,h)}function q(R){f=R,n(2,f)}function ne(R){f=R,n(2,f)}function te(R){i=R,n(0,i)}function de(R){m=R,n(3,m)}function H(R){u=R,n(10,u)}const J=()=>_({withdrawDetails:u,assetCode:m.asset_code,assetIssuer:a,amount:m.amount}),he=()=>v(-1),me=()=>v(1);return o.$$set=R=>{"title"in R&&n(4,t=R.title),"body"in R&&n(5,r=R.body),"homeDomain"in R&&n(0,i=R.homeDomain),"sep6Info"in R&&n(1,s=R.sep6Info),"assetIssuer"in R&&n(6,a=R.assetIssuer),"transferData"in R&&n(2,f=R.transferData),"formData"in R&&n(3,m=R.formData),"submitPayment"in R&&n(7,_=R.submitPayment)},o.$$.update=()=>{o.$$.dirty[0]&256&&n(12,l=d[c-1])},[i,s,f,m,t,r,a,_,c,h,u,k,l,d,v,N,P,j,I,W,V,y,C,O,q,ne,te,de,H,J,he,me]}class Ul extends ce{constructor(e){super(),ue(this,e,Ml,Hl,fe,{title:4,body:5,homeDomain:0,sep6Info:1,assetIssuer:6,transferData:2,formData:3,submitPayment:7},null,[-1,-1])}}async function Wl({publicKey:o,homeDomain:e}){let{WEB_AUTH_ENDPOINT:n,TRANSFER_SERVER:l,SIGNING_KEY:t}=await Ae(e);if(!(n||l)||!t)throw Ee(500,{message:"could not get challenge transaction (server missing toml entry or entries)"});let i=await(await fetch(`${n||l}?${new URLSearchParams({account:o})}`)).json();return Yl({transactionXDR:i.transaction,serverSigningKey:t,network:i.network_passphrase,clientPublicKey:o,homeDomain:e}),i}function Yl({transactionXDR:o,serverSigningKey:e,network:n,clientPublicKey:l,homeDomain:t,clientDomain:r}){r||(r=t);try{if(Yt.Utils.readChallengeTx(o,e,n,t,r).clientAccountID===l)return;throw Ee(400,{message:"clientAccountID does not match challenge transaction"})}catch(i){throw Ee(400,{message:JSON.stringify(i)})}}async function zl({transactionXDR:o,homeDomain:e}){let n=await Mt(e);if(!n)throw Ee(500,{message:"could not authenticate with server (missing toml entry)"});let l=await fetch(n,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({transaction:o})}),t=await l.json();if(!l.ok)throw Ee(400,{message:t.error});return t.token}function bt(o,e,n){const l=o.slice();return l[21]=e[n],l}function kt(o,e,n){const l=o.slice();return l[28]=e[n][0],l[29]=e[n][1],l}function vt(o,e,n){const l=o.slice();return l[28]=e[n][0],l[29]=e[n][1],l}function Ne(o){var t;const e=o.slice(),n=e[3](e[21].home_domain);e[25]=n;const l=(t=e[24].CURRENCIES)==null?void 0:t.filter(function(...i){return o[7](e[21],...i)})[0].desc;return e[26]=l,e}function ql(o){return{c:T,l:T,m:T,p:T,i:T,o:T,d:T}}function Jl(o){let e,n,l=("WEB_AUTH_ENDPOINT"in o[24]||"TRANSFER_SERVER"in o[24])&&gt(Ne(o));return{c(){l&&l.c(),e=B()},l(t){l&&l.l(t),e=F(t)},m(t,r){l&&l.m(t,r),D(t,e,r),n=!0},p(t,r){"WEB_AUTH_ENDPOINT"in t[24]||"TRANSFER_SERVER"in t[24]?l?(l.p(Ne(t),r),r[0]&1&&A(l,1)):(l=gt(Ne(t)),l.c(),A(l,1),l.m(e.parentNode,e)):l&&(G(),L(l,1,1,()=>{l=null}),Q())},i(t){n||(A(l),n=!0)},o(t){L(l),n=!1},d(t){t&&p(e),l&&l.d(t)}}}function gt(o){let e,n=o[21].asset_code+"",l,t,r,i,s=o[21].home_domain+"",a,f,m,h,u=o[25]+"",_,d,c,k,v,N,P,j,I=o[26]&&wt(o);const W=[Gl,Xl],V=[];function y(C,O){return C[25]!=="auth_valid"?0:1}return v=y(o),N=V[v]=W[v](o),{c(){e=w("h3"),l=M(n),t=B(),r=w("small"),i=M("("),a=M(s),f=M(")"),m=B(),h=w("div"),_=M(u),c=B(),I&&I.c(),k=B(),N.c(),P=K(),this.h()},l(C){e=E(C,"H3",{class:!0});var O=S(e);l=U(O,n),t=F(O),r=E(O,"SMALL",{});var q=S(r);i=U(q,"("),a=U(q,s),f=U(q,")"),q.forEach(p),m=F(O),h=E(O,"DIV",{class:!0});var ne=S(h);_=U(ne,u),ne.forEach(p),O.forEach(p),c=F(C),I&&I.l(C),k=F(C),N.l(C),P=K(),this.h()},h(){b(h,"class",d=o[2][o[25]]),b(e,"class","card-title")},m(C,O){D(C,e,O),g(e,l),g(e,t),g(e,r),g(r,i),g(r,a),g(r,f),g(e,m),g(e,h),g(h,_),D(C,c,O),I&&I.m(C,O),D(C,k,O),V[v].m(C,O),D(C,P,O),j=!0},p(C,O){(!j||O[0]&1)&&n!==(n=C[21].asset_code+"")&&ie(l,n),(!j||O[0]&1)&&s!==(s=C[21].home_domain+"")&&ie(a,s),(!j||O[0]&1)&&u!==(u=C[25]+"")&&ie(_,u),(!j||O[0]&1&&d!==(d=C[2][C[25]]))&&b(h,"class",d),C[26]?I?I.p(C,O):(I=wt(C),I.c(),I.m(k.parentNode,k)):I&&(I.d(1),I=null);let q=v;v=y(C),v===q?V[v].p(C,O):(G(),L(V[q],1,1,()=>{V[q]=null}),Q(),N=V[v],N?N.p(C,O):(N=V[v]=W[v](C),N.c()),A(N,1),N.m(P.parentNode,P))},i(C){j||(A(N),j=!0)},o(C){L(N),j=!1},d(C){C&&(p(e),p(c),p(k),p(P)),I&&I.d(C),V[v].d(C)}}}function wt(o){let e,n=o[26]+"",l;return{c(){e=w("p"),l=M(n)},l(t){e=E(t,"P",{});var r=S(e);l=U(r,n),r.forEach(p)},m(t,r){D(t,e,r),g(e,l)},p(t,r){r[0]&1&&n!==(n=t[26]+"")&&ie(l,n)},d(t){t&&p(e)}}}function Xl(o){let e,n,l,t,r="TRANSFER_SERVER"in o[24]&&Et(o),i="TRANSFER_SERVER"in o[24]&&"TRANSFER_SERVER_SEP0024"in o[24]&&Ct(),s="TRANSFER_SERVER_SEP0024"in o[24]&&Tt(o);return{c(){e=w("div"),r&&r.c(),n=B(),i&&i.c(),l=B(),s&&s.c(),this.h()},l(a){e=E(a,"DIV",{class:!0});var f=S(e);r&&r.l(f),n=F(f),i&&i.l(f),l=F(f),s&&s.l(f),f.forEach(p),this.h()},h(){b(e,"class","flex w-full flex-col lg:flex-row")},m(a,f){D(a,e,f),r&&r.m(e,null),g(e,n),i&&i.m(e,null),g(e,l),s&&s.m(e,null),t=!0},p(a,f){"TRANSFER_SERVER"in a[24]?r?(r.p(a,f),f[0]&1&&A(r,1)):(r=Et(a),r.c(),A(r,1),r.m(e,n)):r&&(G(),L(r,1,1,()=>{r=null}),Q()),"TRANSFER_SERVER"in a[24]&&"TRANSFER_SERVER_SEP0024"in a[24]?i||(i=Ct(),i.c(),i.m(e,l)):i&&(i.d(1),i=null),"TRANSFER_SERVER_SEP0024"in a[24]?s?(s.p(a,f),f[0]&1&&A(s,1)):(s=Tt(a),s.c(),A(s,1),s.m(e,null)):s&&(G(),L(s,1,1,()=>{s=null}),Q())},i(a){t||(A(r),A(s),t=!0)},o(a){L(r),L(s),t=!1},d(a){a&&p(e),r&&r.d(),i&&i.d(),s&&s.d()}}}function Gl(o){let e,n,l,t,r,i,s,a,f="Please authenticate before attempting any transfers.",m,h,u;function _(){return o[8](o[21])}return{c(){e=w("button"),n=M("Authenticate with Anchor"),r=B(),i=w("div"),s=w("label"),a=w("span"),a.textContent=f,this.h()},l(d){e=E(d,"BUTTON",{id:!0,name:!0,class:!0});var c=S(e);n=U(c,"Authenticate with Anchor"),c.forEach(p),r=F(d),i=E(d,"DIV",{class:!0});var k=S(i);s=E(k,"LABEL",{class:!0,for:!0});var v=S(s);a=E(v,"SPAN",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-qcogmm"&&(a.textContent=f),v.forEach(p),k.forEach(p),this.h()},h(){b(e,"id",l=`authButton${o[21].asset_code}`),b(e,"name",t=`authButton${o[21].asset_code}`),b(e,"class","btn-primary btn"),b(a,"class","label-text"),b(s,"class","label"),b(s,"for",m=`authButton${o[21].asset_code}`),b(i,"class","form-control")},m(d,c){D(d,e,c),g(e,n),D(d,r,c),D(d,i,c),g(i,s),g(s,a),h||(u=$(e,"click",_),h=!0)},p(d,c){o=d,c[0]&1&&l!==(l=`authButton${o[21].asset_code}`)&&b(e,"id",l),c[0]&1&&t!==(t=`authButton${o[21].asset_code}`)&&b(e,"name",t),c[0]&1&&m!==(m=`authButton${o[21].asset_code}`)&&b(s,"for",m)},i:T,o:T,d(d){d&&(p(e),p(r),p(i)),h=!1,u()}}}function Et(o){let e,n,l,t={ctx:o,current:null,token:null,hasCatch:!1,pending:en,then:Zl,catch:Ql,value:32,blocks:[,,,]};return _e(n=Fe(o[21].home_domain),t),{c(){e=K(),t.block.c()},l(r){e=K(),t.block.l(r)},m(r,i){D(r,e,i),t.block.m(r,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(r,i){o=r,t.ctx=o,i[0]&1&&n!==(n=Fe(o[21].home_domain))&&_e(n,t)||we(t,o,i)},i(r){l||(A(t.block),l=!0)},o(r){for(let i=0;i<3;i+=1){const s=t.blocks[i];L(s)}l=!1},d(r){r&&p(e),t.block.d(r),t.token=null,t=null}}}function Ql(o){return{c:T,l:T,m:T,p:T,i:T,o:T,d:T}}function Zl(o){let e,n,l,t="SEP-6 Transfers",r,i,s,a=z(Object.entries(o[32])),f=[];for(let h=0;h<a.length;h+=1)f[h]=yt(vt(o,a,h));const m=h=>L(f[h],1,1,()=>{f[h]=null});return{c(){e=w("div"),n=w("div"),l=w("h4"),l.textContent=t,r=B(),i=w("div");for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){e=E(h,"DIV",{class:!0});var u=S(e);n=E(u,"DIV",{class:!0});var _=S(n);l=E(_,"H4",{"data-svelte-h":!0}),Y(l)!=="svelte-10kq8qf"&&(l.textContent=t),r=F(_),i=E(_,"DIV",{class:!0});var d=S(i);for(let c=0;c<f.length;c+=1)f[c].l(d);d.forEach(p),_.forEach(p),u.forEach(p),this.h()},h(){b(i,"class","join-vertical join lg:join-horizontal w-full"),b(n,"class","card-body w-full"),b(e,"class","card rounded-box bg-base-300 grid flex-grow place-items-center")},m(h,u){D(h,e,u),g(e,n),g(n,l),g(n,r),g(n,i);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(i,null);s=!0},p(h,u){if(u[0]&43){a=z(Object.entries(h[32]));let _;for(_=0;_<a.length;_+=1){const d=vt(h,a,_);f[_]?(f[_].p(d,u),A(f[_],1)):(f[_]=yt(d),f[_].c(),A(f[_],1),f[_].m(i,null))}for(G(),_=a.length;_<f.length;_+=1)m(_);Q()}},i(h){if(!s){for(let u=0;u<a.length;u+=1)A(f[u]);s=!0}},o(h){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)L(f[u]);s=!1},d(h){h&&p(e),le(f,h)}}}function Dt(o){let e,n,l,t,r,i,s,a,f;const m=[xl,$l],h=[];function u(d,c){return d[28]==="deposit"?0:1}n=u(o),l=h[n]=m[n](o);function _(){return o[9](o[21],o[28],o[32])}return{c(){e=w("button"),l.c(),t=B(),this.h()},l(d){e=E(d,"BUTTON",{class:!0});var c=S(e);l.l(c),t=F(c),c.forEach(p),this.h()},h(){b(e,"class",r=o[1][o[28]]),e.disabled=i=o[25]!=="auth_valid"},m(d,c){D(d,e,c),h[n].m(e,null),g(e,t),s=!0,a||(f=$(e,"click",_),a=!0)},p(d,c){o=d;let k=n;n=u(o),n!==k&&(G(),L(h[k],1,1,()=>{h[k]=null}),Q(),l=h[n],l||(l=h[n]=m[n](o),l.c()),A(l,1),l.m(e,t)),(!s||c[0]&1&&r!==(r=o[1][o[28]]))&&b(e,"class",r),(!s||c[0]&1&&i!==(i=o[25]!=="auth_valid"))&&(e.disabled=i)},i(d){s||(A(l),s=!0)},o(d){L(l),s=!1},d(d){d&&p(e),h[n].d(),a=!1,f()}}}function $l(o){let e,n,l;return n=new Ot({}),{c(){e=M(`Withdraw
                                                        `),oe(n.$$.fragment)},l(t){e=U(t,`Withdraw
                                                        `),re(n.$$.fragment,t)},m(t,r){D(t,e,r),ae(n,t,r),l=!0},i(t){l||(A(n.$$.fragment,t),l=!0)},o(t){L(n.$$.fragment,t),l=!1},d(t){t&&p(e),se(n,t)}}}function xl(o){let e,n,l;return e=new At({}),{c(){oe(e.$$.fragment),n=M(`
                                                        Deposit`)},l(t){re(e.$$.fragment,t),n=U(t,`
                                                        Deposit`)},m(t,r){ae(e,t,r),D(t,n,r),l=!0},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){L(e.$$.fragment,t),l=!1},d(t){t&&p(n),se(e,t)}}}function yt(o){let e,n,l=(o[28]==="deposit"||o[28]==="withdraw")&&o[21].asset_code in o[29]&&Dt(o);return{c(){l&&l.c(),e=K()},l(t){l&&l.l(t),e=K()},m(t,r){l&&l.m(t,r),D(t,e,r),n=!0},p(t,r){(t[28]==="deposit"||t[28]==="withdraw")&&t[21].asset_code in t[29]?l?(l.p(t,r),r[0]&1&&A(l,1)):(l=Dt(t),l.c(),A(l,1),l.m(e.parentNode,e)):l&&(G(),L(l,1,1,()=>{l=null}),Q())},i(t){n||(A(l),n=!0)},o(t){L(l),n=!1},d(t){t&&p(e),l&&l.d(t)}}}function en(o){return{c:T,l:T,m:T,p:T,i:T,o:T,d:T}}function Ct(o){let e;return{c(){e=w("div"),this.h()},l(n){e=E(n,"DIV",{class:!0}),S(e).forEach(p),this.h()},h(){b(e,"class","divider lg:divider-horizontal")},m(n,l){D(n,e,l)},d(n){n&&p(e)}}}function Tt(o){let e,n,l,t={ctx:o,current:null,token:null,hasCatch:!1,pending:rn,then:ln,catch:tn,value:27,blocks:[,,,]};return _e(n=Ve(o[21].home_domain),t),{c(){e=K(),t.block.c()},l(r){e=K(),t.block.l(r)},m(r,i){D(r,e,i),t.block.m(r,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(r,i){o=r,t.ctx=o,i[0]&1&&n!==(n=Ve(o[21].home_domain))&&_e(n,t)||we(t,o,i)},i(r){l||(A(t.block),l=!0)},o(r){for(let i=0;i<3;i+=1){const s=t.blocks[i];L(s)}l=!1},d(r){r&&p(e),t.block.d(r),t.token=null,t=null}}}function tn(o){return{c:T,l:T,m:T,p:T,i:T,o:T,d:T}}function ln(o){let e,n,l,t="SEP-24 Transfers",r,i,s,a=z(Object.entries(o[27])),f=[];for(let h=0;h<a.length;h+=1)f[h]=It(kt(o,a,h));const m=h=>L(f[h],1,1,()=>{f[h]=null});return{c(){e=w("div"),n=w("div"),l=w("h4"),l.textContent=t,r=B(),i=w("div");for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){e=E(h,"DIV",{class:!0});var u=S(e);n=E(u,"DIV",{class:!0});var _=S(n);l=E(_,"H4",{"data-svelte-h":!0}),Y(l)!=="svelte-1xbddaf"&&(l.textContent=t),r=F(_),i=E(_,"DIV",{class:!0});var d=S(i);for(let c=0;c<f.length;c+=1)f[c].l(d);d.forEach(p),_.forEach(p),u.forEach(p),this.h()},h(){b(i,"class","join-vertical join lg:join-horizontal w-full"),b(n,"class","card-body w-full"),b(e,"class","card rounded-box bg-base-300 grid flex-grow place-items-center")},m(h,u){D(h,e,u),g(e,n),g(n,l),g(n,r),g(n,i);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(i,null);s=!0},p(h,u){if(u[0]&75){a=z(Object.entries(h[27]));let _;for(_=0;_<a.length;_+=1){const d=kt(h,a,_);f[_]?(f[_].p(d,u),A(f[_],1)):(f[_]=It(d),f[_].c(),A(f[_],1),f[_].m(i,null))}for(G(),_=a.length;_<f.length;_+=1)m(_);Q()}},i(h){if(!s){for(let u=0;u<a.length;u+=1)A(f[u]);s=!0}},o(h){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)L(f[u]);s=!1},d(h){h&&p(e),le(f,h)}}}function St(o){let e,n,l,t,r,i,s,a,f;const m=[on,nn],h=[];function u(d,c){return d[28]==="deposit"?0:1}n=u(o),l=h[n]=m[n](o);function _(){return o[10](o[21],o[28])}return{c(){e=w("button"),l.c(),t=B(),this.h()},l(d){e=E(d,"BUTTON",{class:!0});var c=S(e);l.l(c),t=F(c),c.forEach(p),this.h()},h(){b(e,"class",r=o[1][o[28]]),e.disabled=i=o[25]!=="auth_valid"},m(d,c){D(d,e,c),h[n].m(e,null),g(e,t),s=!0,a||(f=$(e,"click",_),a=!0)},p(d,c){o=d;let k=n;n=u(o),n!==k&&(G(),L(h[k],1,1,()=>{h[k]=null}),Q(),l=h[n],l||(l=h[n]=m[n](o),l.c()),A(l,1),l.m(e,t)),(!s||c[0]&1&&r!==(r=o[1][o[28]]))&&b(e,"class",r),(!s||c[0]&1&&i!==(i=o[25]!=="auth_valid"))&&(e.disabled=i)},i(d){s||(A(l),s=!0)},o(d){L(l),s=!1},d(d){d&&p(e),h[n].d(),a=!1,f()}}}function nn(o){let e,n,l;return n=new Ot({}),{c(){e=M(`Withdraw
                                                        `),oe(n.$$.fragment)},l(t){e=U(t,`Withdraw
                                                        `),re(n.$$.fragment,t)},m(t,r){D(t,e,r),ae(n,t,r),l=!0},i(t){l||(A(n.$$.fragment,t),l=!0)},o(t){L(n.$$.fragment,t),l=!1},d(t){t&&p(e),se(n,t)}}}function on(o){let e,n,l;return e=new At({}),{c(){oe(e.$$.fragment),n=M(`
                                                        Deposit`)},l(t){re(e.$$.fragment,t),n=U(t,`
                                                        Deposit`)},m(t,r){ae(e,t,r),D(t,n,r),l=!0},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){L(e.$$.fragment,t),l=!1},d(t){t&&p(n),se(e,t)}}}function It(o){let e,n,l=(o[28]==="deposit"||o[28]==="withdraw")&&o[21].asset_code in o[29]&&St(o);return{c(){l&&l.c(),e=K()},l(t){l&&l.l(t),e=K()},m(t,r){l&&l.m(t,r),D(t,e,r),n=!0},p(t,r){(t[28]==="deposit"||t[28]==="withdraw")&&t[21].asset_code in t[29]?l?(l.p(t,r),r[0]&1&&A(l,1)):(l=St(t),l.c(),A(l,1),l.m(e.parentNode,e)):l&&(G(),L(l,1,1,()=>{l=null}),Q())},i(t){n||(A(l),n=!0)},o(t){L(l),n=!1},d(t){t&&p(e),l&&l.d(t)}}}function rn(o){return{c:T,l:T,m:T,p:T,i:T,o:T,d:T}}function an(o){return{c:T,l:T,m:T,p:T,i:T,o:T,d:T}}function Nt(o){let e,n,l,t={ctx:o,current:null,token:null,hasCatch:!1,pending:an,then:Jl,catch:ql,value:24,blocks:[,,,]};return _e(n=Ae(o[21].home_domain),t),{c(){e=K(),t.block.c()},l(r){e=K(),t.block.l(r)},m(r,i){D(r,e,i),t.block.m(r,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(r,i){o=r,t.ctx=o,i[0]&1&&n!==(n=Ae(o[21].home_domain))&&_e(n,t)||we(t,o,i)},i(r){l||(A(t.block),l=!0)},o(r){for(let i=0;i<3;i+=1){const s=t.blocks[i];L(s)}l=!1},d(r){r&&p(e),t.block.d(r),t.token=null,t=null}}}function sn(o){let e,n,l=z(o[0].homeDomainBalances),t=[];for(let i=0;i<l.length;i+=1)t[i]=Nt(bt(o,l,i));const r=i=>L(t[i],1,1,()=>{t[i]=null});return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=K()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);e=K()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);D(i,e,s),n=!0},p(i,s){if(s[0]&127){l=z(i[0].homeDomainBalances);let a;for(a=0;a<l.length;a+=1){const f=bt(i,l,a);t[a]?(t[a].p(f,s),A(t[a],1)):(t[a]=Nt(f),t[a].c(),A(t[a],1),t[a].m(e.parentNode,e))}for(G(),a=l.length;a<t.length;a+=1)r(a);Q()}},i(i){if(!n){for(let s=0;s<l.length;s+=1)A(t[s]);n=!0}},o(i){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)L(t[s]);n=!1},d(i){i&&p(e),le(t,i)}}}function fn(o,e,n){let l;ke(o,ge,y=>n(16,l=y));let{data:t}=e;console.log("routes/dashboard/transfers/+page.svelte data",t);const{open:r}=Ft("simple-modal");let i="",s="",a="",f="",m="";const h={deposit:"btn lg:w-1/2 join-item btn-accent",withdraw:"btn lg:w-1/2 join-item btn-secondary"},u={unauthenticated:"badge badge-error",auth_expired:"badge badge-warning",auth_valid:"badge badge-success"},_=y=>l[y]?ge.isTokenExpired(y)?"auth_expired":"auth_valid":"unauthenticated",d=async y=>{let C=await Ke.sign({transactionXDR:i,network:s,pincode:y}),O=await zl({transactionXDR:C.toXDR(),homeDomain:a});ge.setAuth(a,O),Wt()},c=async y=>{let{transaction:C,network_passphrase:O}=await Wl({publicKey:t.publicKey,homeDomain:y});i=C,s=O,a=y,r(Ie,{title:"SEP-10 Challenge Transaction",body:"Please confirm your ownership of this account by signing this challenge transaction. This transaction has already been checked and verified and everything looks good from what we can tell. Feel free to double-check that everything lines up with the SEP-10 specification yourself, though.",transactionXDR:i,transactionNetwork:s,onConfirm:d})},k=({homeDomain:y,assetCode:C,assetIssuer:O,endpoint:q,sep6Info:ne})=>{r(Ul,{homeDomain:y,assetIssuer:O,transferData:{endpoint:q},formData:{account:t.publicKey,asset_code:C},sep6Info:ne,submitPayment:N})},v=async y=>{let C=await Ke.sign({transactionXDR:f,network:m,pincode:y});await Lt(C)};let N=async({withdrawDetails:y,assetCode:C,assetIssuer:O,amount:q})=>{let{transaction:ne,network_passphrase:te}=await He({source:t.publicKey,destination:y.account_id,asset:`${C}:${O}`,amount:q,memo:y.memo?Le.Buffer.from(y.memo,"base64"):void 0});f=ne,m=te,close(),r(Ie,{transactionXDR:f,transactionNetwork:m,onConfirm:v})};const P=async({homeDomain:y,assetCode:C,assetIssuer:O,endpoint:q})=>{let{url:ne}=await Ut({authToken:l[y],endpoint:q,homeDomain:y,urlFields:{asset_code:C,account:t.publicKey}}),te=`${ne}&callback=postMessage`,de=Be.open(te,"bpaTransfer24Window","popup");Be.addEventListener("message",async H=>{if(console.log("here is the event i heard from the popup window",H),de==null||de.close(),Pe.addTransfer({homeDomain:y,protocol:"sep24",assetCode:C,transferID:H.data.transaction.id}),H.data.transaction.kind==="withdrawal"){let{transaction:J,network_passphrase:he}=await He({source:t.publicKey,destination:H.data.transaction.withdraw_anchor_account,asset:`${C}:${O}`,amount:H.data.transaction.amount_in,memo:Le.Buffer.from(H.data.transaction.withdraw_memo,"base64")});f=J,m=he,r(Ie,{transactionXDR:f,transactionNetwork:m,onConfirm:v})}})},j=(y,{code:C})=>C===y.asset_code,I=y=>c(y.home_domain),W=(y,C,O)=>k({homeDomain:y.home_domain,assetCode:y.asset_code,assetIssuer:y.asset_issuer,endpoint:C,sep6Info:O}),V=(y,C)=>P({homeDomain:y.home_domain,assetCode:y.asset_code,assetIssuer:y.asset_issuer,endpoint:C});return o.$$set=y=>{"data"in y&&n(0,t=y.data)},[t,h,u,_,c,k,P,j,I,W,V]}class yn extends ce{constructor(e){super(),ue(this,e,fn,sn,fe,{data:0},null,[-1,-1])}}export{yn as component,Dn as universal};
