import{N as Ee,s as Ce,f as a,a as k,g as r,h as b,O as S,c as x,d as m,j as e,i as ge,v as t,R as he,y as G,a1 as Ie,K as Me,M as De,T as Ke}from"../chunks/scheduler.e2128b0a.js";import{g as ye}from"../chunks/navigation.00afe88d.js";import{w as se}from"../chunks/walletStore.df8a4074.js";import{S as Se,i as Ve,b as ke,d as xe,m as Te,a as O,t as W,c as He,e as we,g as Pe}from"../chunks/index.67dfe82c.js";import{l as be}from"../chunks/index.027ae11e.js";import{T as Le}from"../chunks/TruncatedKey.d469d295.js";import{C as $e}from"../chunks/ConfirmationModal.56c6a33a.js";import{g as Be}from"../chunks/horizonQueries.4e1e7f67.js";function Ne(){const o=Ee(se);o.publicKey&&o.keyId&&ye("/login")}const Ye=Object.freeze(Object.defineProperty({__proto__:null,load:Ne},Symbol.toStringTag,{value:"Module"}));function _e(o){let i,s,v='<span class="label-text">Secret Key</span>',T,_,d,p;return d=new Le({props:{keyText:o[4]}}),{c(){i=a("div"),s=a("label"),s.innerHTML=v,T=k(),_=a("div"),ke(d.$$.fragment),this.h()},l(n){i=r(n,"DIV",{class:!0});var l=b(i);s=r(l,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(s)!=="svelte-602x9r"&&(s.innerHTML=v),T=x(l),_=r(l,"DIV",{class:!0});var u=b(_);xe(d.$$.fragment,u),u.forEach(m),l.forEach(m),this.h()},h(){e(s,"for","secretKey"),e(s,"class","label"),e(_,"class","input-bordered input flex"),e(i,"class","form-control mb-1")},m(n,l){ge(n,i,l),t(i,s),t(i,T),t(i,_),Te(d,_,null),p=!0},p(n,l){const u={};l&16&&(u.keyText=n[4]),d.$set(u)},i(n){p||(O(d.$$.fragment,n),p=!0)},o(n){W(d.$$.fragment,n),p=!1},d(n){n&&m(i),we(d)}}}function Ae(o){let i,s,v,T=`<h1 class="text-5xl font-bold">Signup now!</h1> <p class="py-6">Kindly create a 6-digit PIN code for registration. This PIN code will serve to
                encrypt the secret key linked to your Diam address, which will then be stored in
                your browser&#39;s local storage. Your secret key will remain only on your device,
                giving you sole possession and control over it.</p>`,_,d,p,n,l,u,w,q='<span class="label-text">Public Key</span>',j,C,g,Y,V,I,ae="Generate new address?",J,N,M,H,re="Show secret key?",Q,L,X,U,D,K,ne='<span class="label-text">Pincode</span>',Z,h,ee,P,oe='<button type="submit" class="btn-primary btn">Signup</button>',te,$,ie='<div class="label"><a class="link-hover label-text-alt link" href="/login">Existing users, login here.</a></div>',z,le,ce;g=new Le({props:{keyText:o[3]}});let c=o[1]&&_e(o);return{c(){i=a("div"),s=a("div"),v=a("div"),v.innerHTML=T,_=k(),d=a("div"),p=a("div"),n=a("div"),l=a("form"),u=a("div"),w=a("label"),w.innerHTML=q,j=k(),C=a("div"),ke(g.$$.fragment),Y=k(),V=a("label"),I=a("button"),I.textContent=ae,J=k(),N=a("div"),M=a("label"),H=a("span"),H.textContent=re,Q=k(),L=a("input"),X=k(),c&&c.c(),U=k(),D=a("div"),K=a("label"),K.innerHTML=ne,Z=k(),h=a("input"),ee=k(),P=a("div"),P.innerHTML=oe,te=k(),$=a("div"),$.innerHTML=ie,this.h()},l(f){i=r(f,"DIV",{class:!0});var E=b(i);s=r(E,"DIV",{class:!0});var B=b(s);v=r(B,"DIV",{class:!0,"data-svelte-h":!0}),S(v)!=="svelte-1gj7kc3"&&(v.innerHTML=T),_=x(B),d=r(B,"DIV",{class:!0});var ue=b(d);p=r(ue,"DIV",{class:!0});var de=b(p);n=r(de,"DIV",{class:!0});var fe=b(n);l=r(fe,"FORM",{});var y=b(l);u=r(y,"DIV",{class:!0});var A=b(u);w=r(A,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(w)!=="svelte-tru4k9"&&(w.innerHTML=q),j=x(A),C=r(A,"DIV",{class:!0});var pe=b(C);xe(g.$$.fragment,pe),pe.forEach(m),Y=x(A),V=r(A,"LABEL",{for:!0,class:!0});var me=b(V);I=r(me,"BUTTON",{class:!0,"data-svelte-h":!0}),S(I)!=="svelte-1ldz27i"&&(I.textContent=ae),me.forEach(m),A.forEach(m),J=x(y),N=r(y,"DIV",{class:!0});var ve=b(N);M=r(ve,"LABEL",{class:!0});var F=b(M);H=r(F,"SPAN",{class:!0,"data-svelte-h":!0}),S(H)!=="svelte-gqnu88"&&(H.textContent=re),Q=x(F),L=r(F,"INPUT",{id:!0,name:!0,type:!0,class:!0}),F.forEach(m),ve.forEach(m),X=x(y),c&&c.l(y),U=x(y),D=r(y,"DIV",{class:!0});var R=b(D);K=r(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(K)!=="svelte-1mgtpmh"&&(K.innerHTML=ne),Z=x(R),h=r(R,"INPUT",{id:!0,name:!0,type:!0,class:!0,minlength:!0,maxlength:!0}),R.forEach(m),ee=x(y),P=r(y,"DIV",{class:!0,"data-svelte-h":!0}),S(P)!=="svelte-16yaauf"&&(P.innerHTML=oe),te=x(y),$=r(y,"DIV",{class:!0,"data-svelte-h":!0}),S($)!=="svelte-1g7dv6a"&&($.innerHTML=ie),y.forEach(m),fe.forEach(m),de.forEach(m),ue.forEach(m),B.forEach(m),E.forEach(m),this.h()},h(){e(v,"class","text-center lg:text-left"),e(w,"for","publicKey"),e(w,"class","label"),e(C,"class","input-bordered input flex"),e(I,"class","link-hover label-text-alt link"),e(V,"for","publicKey"),e(V,"class","label"),e(u,"class","form-control my-1"),e(H,"class","label-text"),e(L,"id","showSecret"),e(L,"name","showSecret"),e(L,"type","checkbox"),e(L,"class","toggle-accent toggle"),e(M,"class","label cursor-pointer pb-0"),e(N,"class","form-control"),e(K,"for","pincode"),e(K,"class","label"),e(h,"id","pincode"),e(h,"name","pincode"),e(h,"type","password"),e(h,"class","input-bordered input"),e(h,"minlength","6"),e(h,"maxlength","6"),h.required=!0,e(D,"class","form-control my-1"),e(P,"class","form-control mt-6"),e($,"class","form-control my-1"),e(n,"class","card-body"),e(p,"class","card bg-base-100 w-full max-w-sm flex-shrink-0 shadow-2xl"),e(d,"class","flex-col"),e(s,"class","hero-content flex-col gap-7 lg:flex-row-reverse"),e(i,"class","hero bg-base-200 min-h-screen")},m(f,E){ge(f,i,E),t(i,s),t(s,v),t(s,_),t(s,d),t(d,p),t(p,n),t(n,l),t(l,u),t(u,w),t(u,j),t(u,C),Te(g,C,null),t(u,Y),t(u,V),t(V,I),t(l,J),t(l,N),t(N,M),t(M,H),t(M,Q),t(M,L),L.checked=o[1],t(l,X),c&&c.m(l,null),t(l,U),t(l,D),t(D,K),t(D,Z),t(D,h),he(h,o[2]),t(l,ee),t(l,P),t(l,te),t(l,$),z=!0,le||(ce=[G(I,"click",o[6]),G(L,"change",o[7]),G(h,"input",o[8]),G(l,"submit",Ie(o[5]))],le=!0)},p(f,[E]){const B={};E&8&&(B.keyText=f[3]),g.$set(B),E&2&&(L.checked=f[1]),f[1]?c?(c.p(f,E),E&2&&O(c,1)):(c=_e(f),c.c(),O(c,1),c.m(l,U)):c&&(Pe(),W(c,1,1,()=>{c=null}),He()),E&4&&h.value!==f[2]&&he(h,f[2])},i(f){z||(O(g.$$.fragment,f),O(c),z=!0)},o(f){W(g.$$.fragment,f),W(c),z=!1},d(f){f&&m(i),we(g),c&&c.d(),le=!1,Me(ce)}}}function je(o,i,s){let v,T,_;De(o,se,g=>s(9,_=g));const{open:d}=Ke("simple-modal");let p=be.Keypair.random(),n=!1,l="";const u=async g=>{await se.register({publicKey:v,secretKey:T,pincode:g}),await Be(v),_.publicKey&&ye("/dashboard")},w=()=>{d($e,{firstPincode:l,title:"Confirm Pincode",body:"Please re-type your 6-digit pincode to encrypt the secret key.",rejectButton:"Cancel",onConfirm:u})},q=()=>s(0,p=be.Keypair.random());function j(){n=this.checked,s(1,n)}function C(){l=this.value,s(2,l)}return o.$$.update=()=>{o.$$.dirty&1&&s(3,v=p.publicKey()),o.$$.dirty&1&&s(4,T=p.secret())},[p,n,l,v,T,w,q,j,C]}class Je extends Se{constructor(i){super(),Ve(this,i,je,Ae,Ce,{})}}export{Je as component,Ye as universal};
